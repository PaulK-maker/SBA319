<%- include('../layouts/main') %>
<link rel="stylesheet" href="/css/styles.css">
<div class="container">
  <h1>Welcome to the Event Planner</h1>
  <p>Explore upcoming events and manage your RSVPs!</p>

  <!-- Display Events -->
  <h2>Upcoming Events</h2>
  <div id="events-list">
    <% if (events && events.length > 0) { %>
      <% events.forEach(event => { %>
        <div class="event-card">
          <h3><%= event.title %></h3>
          <p><%= event.description %></p>
          <p>Date: <%= event.date.toLocaleDateString() %></p>
          <p>Location: <%= event.location %></p>
          <a href="/events/<%= event._id %>" class="btn btn-primary">View Details</a>
        </div>
      <% }); %>
    <% } else { %>
      <p>No events found.</p>
    <% } %>
  </div>

  <!-- RSVP Management (Example - Adapt to your needs) -->
  <h2>Manage RSVPs</h2>
  <form action="/rsvp" method="POST">
    <div class="form-group">
      <label for="event">Select Event:</label>
      <select class="form-control" id="event" name="event" required>
        <% if (events && events.length > 0) { %>
          <% events.forEach(event => { %>
            <option value="<%= event._id %>"><%= event.title %></option>
          <% }); %>
        <% } else { %>
          <option value="">No events available</option>
        <% } %>
      </select>
    </div>
    <div class="form-group">
      <label for="name">Your Name:</label>
      <input type="text" class="form-control" id="name" name="name" required>
    </div>
    <div class="form-group">
      <label for="email">Your Email:</label>
      <input type="email" class="form-control" id="email" name="email" required>
    </div>
    <button type="submit" class="btn btn-success">RSVP</button>
  </form>
</div>